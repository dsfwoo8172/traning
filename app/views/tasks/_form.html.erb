

<%= form_for task, html: {class: 'mt-5', style: 'width: 500px; margin: auto;'} do |f| %>
  <%= render 'shared/error_messages', f: f %>
  
  <%= f.text_field :title, class: 'form-control mb-3', placeholder: '任務標題' %>
  <%= f.select :priority, order_select_options, {}, class: 'form-select mb-3'%>
  <%= f.select :state, state_select_options, {}, class: 'form-select mb-3' %>
  <%= f.rich_text_area :content, class: 'mb-3' %>
  <%= f.datetime_select :start_time, class: 'form-control' %>
  <%= f.datetime_select :end_time %>
  <%= f.select :tag_list, options_from_collection_for_select(Tag.all, 'name', 'name', task.tags.map(&:name)),{ include_blank: true }, class: 'form-select', multiple: true %>
  <%= f.button %>
<% end %>

<script>

  $(document).on('turbolinks:load', function () {
    $("#task_tag_list").select2({
      placeholder: '請選擇一個標籤',
      allowClear: true,
      tags: true,
      tokenSeparators: [',', ' ']
    })
  });

</script>
