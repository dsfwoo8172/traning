<%= form_with model: task, id: dom_id(task), html: { class: 'w-50 mx-auto' } do |f| %>
  <div><%= f.text_field :title, class: 'form-control mb-3', placeholder: '任務標題', data: {redirect_target: 'title'} %></div>
  <div><%= f.select :priority, order_select_options, {}, class: 'form-select mb-3'%></div>
  <div><%= f.select :state, state_select_options, {}, class: 'form-select mb-3' %></div>
  <div><%= f.rich_text_area :content, class: 'mb-3' %></div>
  <div><%= f.datetime_select :start_time %></div>
  <div><%= f.datetime_select :end_time %></div>
  <div class="mt-3"><%= f.select :tag_list, options_from_collection_for_select(Tag.all, 'name', 'name', task.tags.map(&:name)),{ include_blank: true }, class: 'form-select', multiple: true, data: {controller: 'single'} %></div>
  <div class="mt-3">
    <%= f.button '更新', class: 'btn btn-primary' %>
    <%= link_to '回首頁', root_path, class: 'btn btn-danger' %>
  </div>
<% end %>